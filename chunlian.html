<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ–°æ˜¥ç¥ç¦ ğŸ§§</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: "Microsoft YaHei", "PingFang SC", sans-serif;
            background: linear-gradient(180deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #fff;
            overflow: hidden;
            touch-action: manipulation;
        }

        /* èƒŒæ™¯è£…é¥° */
        .bg-decorations {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 0;
        }

        /* ç¯ç¬¼ */
        .lantern {
            position: absolute;
            width: 45px;
            height: 60px;
            background: linear-gradient(180deg, #e74c3c 0%, #c0392b 100%);
            border-radius: 0 0 50% 50%;
            animation: swing 3s ease-in-out infinite;
            box-shadow: 0 0 25px rgba(231, 76, 60, 0.6);
        }

        .lantern::before {
            content: '';
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 15px;
            height: 10px;
            background: #d4af37;
        }

        .lantern:nth-child(1) { top: 5px; left: 5%; animation-delay: 0s; }
        .lantern:nth-child(2) { top: 15px; left: 30%; animation-delay: 0.5s; }
        .lantern:nth-child(3) { top: 3px; left: 55%; animation-delay: 1s; }
        .lantern:nth-child(4) { top: 15px; left: 80%; animation-delay: 1.5s; }

        @keyframes swing {
            0%, 100% { transform: rotate(-6deg); }
            50% { transform: rotate(6deg); }
        }

        /* é£˜è½å…ƒç´  */
        .falling {
            position: absolute;
            pointer-events: none;
            z-index: 100;
            font-size: 30px;
            animation: fallDown 2s linear forwards;
        }

        @keyframes fallDown {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }

        /* ä¸Šå‡ç¥ç¦ */
        .rising-bless {
            position: absolute;
            pointer-events: none;
            z-index: 101;
            font-size: 24px;
            font-weight: bold;
            color: #ffd700;
            text-shadow: 0 0 10px rgba(255,215,0,0.8), 2px 2px 4px rgba(0,0,0,0.5);
            animation: riseUp 2.5s ease-out forwards;
            white-space: nowrap;
        }

        @keyframes riseUp {
            0% { transform: translateY(0) scale(0.5); opacity: 0; }
            20% { opacity: 1; transform: translateY(-30px) scale(1.1); }
            80% { opacity: 1; }
            100% { transform: translateY(-300px) scale(1); opacity: 0; }
        }

        /* ä¸»å®¹å™¨ */
        .container {
            position: relative;
            z-index: 1;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 80px 20px 40px;
            cursor: pointer;
        }

        /* ç‚¹å‡»æç¤º */
        .tap-hint {
            position: absolute;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            color: rgba(255,255,255,0.6);
            font-size: 0.9rem;
            animation: pulse 2s infinite;
            text-align: center;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }

        /* æ˜¥è”å¡ç‰‡ */
        .couplet-card {
            background: linear-gradient(135deg, #8B0000, #a52a2a);
            border-radius: 20px;
            padding: 40px 25px;
            text-align: center;
            border: 4px solid #ffd700;
            box-shadow: 0 0 40px rgba(255, 215, 0, 0.4);
            max-width: 90%;
        }

        .couplet-title {
            color: #ffd700;
            font-size: 1.4rem;
            margin-bottom: 25px;
            text-shadow: 0 0 15px rgba(255,215,0,0.6);
        }

        .couplet-row {
            display: flex;
            gap: 30px;
            justify-content: center;
            margin: 20px 0;
        }

        .couplet-text {
            font-family: "KaiTi", "STKaiti", serif;
            font-size: 1.6rem;
            line-height: 2.4;
            color: #ffd700;
            writing-mode: vertical-rl;
            text-orientation: upright;
        }

        .couplet-heng {
            background: #ffd700;
            color: #8B0000;
            padding: 8px 25px;
            font-size: 1.2rem;
            font-weight: bold;
            border-radius: 5px;
            display: inline-block;
            margin: 15px 0;
        }

        .author {
            color: rgba(255,215,0,0.7);
            font-size: 0.85rem;
            margin-top: 20px;
        }

        /* ç¦å­— */
        .fu-container {
            margin: 20px 0;
        }

        .fu {
            font-size: 3.5rem;
            color: #e74c3c;
            text-shadow: 0 0 25px rgba(231,76,60,0.8);
            font-weight: bold;
            display: inline-block;
            animation: fuPulse 1s ease-in-out infinite;
        }

        @keyframes fuPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* åº•éƒ¨æŒ‰é’® */
        .bottom-actions {
            position: fixed;
            bottom: 30px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 15px;
            z-index: 10;
        }

        .action-btn {
            padding: 12px 25px;
            font-size: 1rem;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .share-btn {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
        }

        .new-btn {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
        }

        .action-btn:active {
            transform: scale(0.95);
        }

        /* å¤åˆ¶æç¤º */
        .copy-toast {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 20px 40px;
            border-radius: 15px;
            font-size: 1.1rem;
            display: none;
            z-index: 1000;
            animation: fadeInOut 2s;
        }

        @keyframes fadeInOut {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
            20% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            80% { opacity: 1; }
            100% { opacity: 0; }
        }

        /* è®¡æ•°å™¨ */
        .click-count {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(231, 76, 60, 0.9);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            z-index: 100;
        }
    </style>
</head>
<body>
    <!-- èƒŒæ™¯è£…é¥° -->
    <div class="bg-decorations">
        <div class="lantern"></div>
        <div class="lantern"></div>
        <div class="lantern"></div>
        <div class="lantern"></div>
    </div>

    <!-- ç‚¹å‡»è®¡æ•°å™¨ -->
    <div class="click-count">ç‚¹å‡»: <span id="count">0</span>æ¬¡</div>

    <!-- ä¸»å†…å®¹ -->
    <div class="container" onclick="handleClick(event)">
        <!-- æ˜¥è”å¡ç‰‡ -->
        <div class="couplet-card">
            <div class="couplet-title">ğŸ§§ <span id="titleName">æœ‹å‹</span> çš„æ–°æ˜¥ç¥ç¦ ğŸ§§</div>
            
            <div class="couplet-row">
                <div class="couplet-text">
                    <div id="shangLian">é¾™è…¾ç››ä¸–</div>
                </div>
                <div class="couplet-text">
                    <div id="xiaLian">å‡¤èˆæ˜¥é£</div>
                </div>
            </div>
            
            <div class="couplet-heng" id="hengLian">è¿æ˜¥æ¥ç¦</div>
            
            <div class="fu-container">
                <span class="fu">ç¦</span>
                <span class="fu fu-reverse">ç¦</span>
            </div>
            
            <div class="author">â€”â€” ç‚¹å‡»äº§ç”ŸæƒŠå–œ</div>
        </div>

        <!-- ç‚¹å‡»æç¤º -->
        <div class="tap-hint">
            ğŸ‘† ç‚¹å‡»å±å¹•ä»»æ„ä½ç½®äº§ç”ŸæƒŠå–œ
        </div>
    </div>

    <!-- åº•éƒ¨æŒ‰é’® -->
    <div class="bottom-actions">
        <button class="action-btn new-btn" onclick="event.stopPropagation();newCouplet()">
            ğŸ”„ æ¢ä¸€å¹…
        </button>
        <button class="action-btn share-btn" onclick="event.stopPropagation();shareToFriends()">
            ğŸ“¤ å‘é€ç»™æœ‹å‹
        </button>
    </div>

    <!-- å¤åˆ¶æç¤º -->
    <div class="copy-toast" id="toast">å·²å¤åˆ¶ï¼ç²˜è´´å‘é€ç»™æœ‹å‹~</div>

    <script>
        // æ˜¥è”åº“
        const couplets = [
            { shang: "é¾™è…¾ç››ä¸–åƒå®¶å–œ", xia: "å‡¤èˆæ˜¥é£ä¸‡ç‰©è‹",heng: "è¿æ˜¥æ¥ç¦" },
            { shang: "å¹´å¹´æœ‰ä½™åº†ä¸°æ”¶", xia: "å²å²å¹³å®‰è¿æ–°æ˜¥",heng: "å‰ç¥¥å¦‚æ„" },
            { shang: "é‡‘ç‰æ»¡å ‚ç¦æ˜Ÿç…§", xia: "ç´«æ°”ä¸œæ¥è´¢æºå¹¿",heng: "å¯Œè´µç›ˆé—¨" },
            { shang: "æ˜¥åˆ°äººé—´æ·»ç™¾ç¦", xia: "å–œä¸´é—¨ç¬¬æ²æ˜¥é£",heng: "æ–°æ˜¥å¤§å‰" },
            { shang: "å’Œæ°”ç”Ÿè´¢ç¦æ»¡å ‚", xia: "å¿ƒæƒ³äº‹æˆä¸šå…´éš†",heng: "ä¸‡äº‹å¦‚æ„" },
            { shang: "è´¢æºå¹¿è¿›è¾¾ä¸‰æ±Ÿ", xia: "ç”Ÿæ„å…´éš†é€šå››æµ·",heng: "æ­å–œå‘è´¢" },
            { shang: "èº«ä½“å¥åº·ç²¾ç¥å¥½", xia: "å®¶åº­å’Œç¦ä¸‡äº‹å…´",heng: "å¹¸ç¦ç¾æ»¡" },
            { shang: "å­¦ä¸šè¿›æ­¥å‰ç¨‹é”¦", xia: "äº‹ä¸šæœ‰æˆæ­¥æ­¥é«˜",heng: "é¹ç¨‹ä¸‡é‡Œ" },
            { shang: "é¾™é©¬ç²¾ç¥é€å‰ç¥¥", xia: "ç‘æ°”ç›ˆé—¨é€ç¦æ¥",heng: "å¤§å‰å¤§åˆ©" },
            { shang: "ç¦æ˜Ÿé«˜ç…§æ»¡å ‚å½©", xia: "å–œæ°”ç›ˆé—¨ä¸‡äº‹å…´",heng: "ç¦æ»¡äººé—´" },
        ];

        // å››å­—ç¥ç¦åº“
        const blessings = [
            "æ­å–œå‘è´¢", "è´¢æºå¹¿è¿›", "ä¸‡äº‹å¦‚æ„", "å‰ç¥¥å¦‚æ„",
            "æ–°æ˜¥å¿«ä¹", "æ­¥æ­¥é«˜å‡", "å­¦ä¸šæœ‰æˆ", "äº‹ä¸šè¾‰ç…Œ",
            "èº«ä½“å¥åº·", "å®¶åº­å¹¸ç¦", "å¿ƒæƒ³äº‹æˆ", "å‰æ˜Ÿé«˜ç…§",
            "ç¦æ°”æ»¡æ»¡", "é‡‘ç‰æ»¡å ‚", "é¾™é©¬ç²¾ç¥", "ç‘æ°”ç›ˆé—¨",
            "å–œæ°”æ´‹æ´‹", "æ¬¢ä¹ç¥¥å’Œ", "å¹¸ç¦ç¾æ»¡", "å‰ç¨‹ä¼¼é”¦",
            "å¤§å‰å¤§åˆ©", "äº”ç¦ä¸´é—¨", "å¯Œè´µå‰ç¥¥", "å’Œæ°”ç”Ÿè´¢",
            "é’æ˜¥æ°¸é©»", "æ´»åŠ›æ»¡æ»¡", "å¥½è¿è¿è¿", "é¡ºé¡ºåˆ©åˆ©"
        ];

        // å…ƒå®/çº¢åŒ…
        const goldItems = ['ğŸ§§', 'ğŸ’°', 'ğŸ', 'ğŸ§¨', 'ğŸŠ', 'âœ¨', 'ğŸ’', 'ğŸ‰'];

        let clickCount = 0;
        let currentCouplet = null;

        // åˆå§‹åŒ–
        function init() {
            newCouplet();
            // ä»URLè·å–åå­—
            const params = new URLSearchParams(window.location.search);
            const name = params.get('name') || 'æœ‹å‹';
            document.getElementById('titleName').textContent = name;
        }

        // ç”Ÿæˆæ–°æ˜¥è”
        function newCouplet() {
            const randomIndex = Math.floor(Math.random() * couplets.length);
            currentCouplet = couplets[randomIndex];
            
            document.getElementById('shangLian').textContent = currentCouplet.shang;
            document.getElementById('xiaLian').textContent = currentCouplet.xia;
            document.getElementById('hengLian').textContent = currentCouplet.heng;
        }

        // å¤„ç†ç‚¹å‡»
        function handleClick(e) {
            clickCount++;
            document.getElementById('count').textContent = clickCount;
            
            // åˆ›å»ºæ‰è½å…ƒå®
            createFallingGold(e.clientX, e.clientY);
            
            // éšæœºåˆ›å»ºä¸Šå‡ç¥ç¦
            if (Math.random() > 0.3) {
                createRisingBless(e.clientX, e.clientY);
            }
        }

        // åˆ›å»ºæ‰è½å…ƒå®
        function createFallingGold(x, y) {
            const item = document.createElement('div');
            item.className = 'falling';
            item.textContent = goldItems[Math.floor(Math.random() * goldItems.length)];
            item.style.left = (x - 15) + 'px';
            item.style.top = (y - 15) + 'px';
            
            document.body.appendChild(item);
            
            setTimeout(() => {
                item.remove();
            }, 2000);
        }

        // åˆ›å»ºä¸Šå‡ç¥ç¦
        function createRisingBless(x, y) {
            const bless = document.createElement('div');
            bless.className = 'rising-bless';
            bless.textContent = blessings[Math.floor(Math.random() * blessings.length)];
            bless.style.left = (x - 50 + Math.random() * 100) + 'px';
            bless.style.top = y + 'px';
            // éšæœºé¢œè‰²
            const colors = ['#ffd700', '#ff6b6b', '#e74c3c', '#27ae60', '#3498db'];
            bless.style.color = colors[Math.floor(Math.random() * colors.length)];
            
            document.body.appendChild(bless);
            
            setTimeout(() => {
                bless.remove();
            }, 2500);
        }

        // åˆ†äº«ç»™æœ‹å‹
        function shareToFriends() {
            const name = document.getElementById('titleName').textContent;
            const shang = document.getElementById('shangLian').textContent;
            const xia = document.getElementById('xiaLian').textContent;
            const heng = document.getElementById('hengLian').textContent;

            const shareText = `ğŸ§§ ç»™${name}çš„æ–°æ˜¥ç¥ç¦ ğŸ§§\n\nä¸Šè”ï¼š${shang}\nä¸‹è”ï¼š${xia}\næ¨ªæ‰¹ï¼š${heng}\n\nğŸ‘† ç‚¹å‡»å±å¹•æœ‰æƒŠå–œï¼\n\nä½ ä¹Ÿæƒ³è¦ä¸“å±ç¥ç¦ï¼Ÿæˆ³è¿™é‡Œç”ŸæˆğŸ‘‰`;

            if (navigator.clipboard) {
                navigator.clipboard.writeText(shareText).then(() => {
                    showToast('å·²å¤åˆ¶ï¼ç²˜è´´å‘é€ç»™æœ‹å‹~');
                });
            } else {
                showToast('é•¿æŒ‰æ˜¥è”ä¿å­˜å›¾ç‰‡åˆ†äº«~');
            }
        }

        // æ˜¾ç¤ºæç¤º
        function showToast(msg) {
            const toast = document.getElementById('toast');
            toast.textContent = msg;
            toast.style.display = 'block';
            setTimeout(() => {
                toast.style.display = 'none';
            }, 2000);
        }

        // åˆå§‹åŒ–
        init();
    </script>
</body>
</html>
